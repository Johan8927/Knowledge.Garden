## 

Lis √ßa y'as tout  (JetpackCompose)

### https://developer.android.com/develop/ui/compose/tutorial?hl=fr

---

üîë Les points cl√©s √† retenir :

* Vous pouvez voir Jetpack Compose comme une opportunit√© de repenser vos applications et d‚Äôadopter des bonnes pratiques modernes, tout en gardant √† l‚Äôesprit les principes fondamentaux de Clean Architecture.
* Jetpack en utilisant Compose sont au final tr√®s proches des framework web comme React ou Vue.js.
* Le principe de *Separation of Concerns* reste fondamental
* L‚Äô√©tat doit √™tre pr√©visible et unidirectionnel
* La testabilit√© doit √™tre consid√©r√©e d√®s le d√©but
* Les composants doivent √™tre d√©coupl√©s et r√©utilisables
* *La Clean Architecture* n‚Äôest pas un cadre rigide mais un guide adaptable

---

![](https://android.pickle-forge.app/_astro/architecture-compose-2.DqJh82vd_2s15N.webp)

****D√©finition du principe de s√©paration des responsabilit√©s**En g√©nie logiciel, la s√©paration des responsabilit√©s est un **principe qui consiste √† s√©parer la programmation, le contenu et le design pour supprimer les d√©pendances et acc√©l√©rer le d√©veloppement web****.*

# 

Architecture MVVM avec Compose

L‚Äôarchitecture MVVM sous Android se traduit par l‚Äôutilisation de `ViewModel` pour g√©rer l‚Äô√©tat de l‚ÄôUI et faire le liens avec les donn√©es.

![](https://android.pickle-forge.app/_astro/architecture-mvvm.BXROM-BD_JLvm9.webp)

Les `viewModels` sont des classes g√©r√©es par le syst√®me Android, elles sont les particularit√©s suivantes :

* Elles sont conserv√©es lors des changements de configuration (rotation de l‚Äô√©cran)
* Elles sont d√©truites lorsqu‚Äôelles ne sont plus utilis√©es (fin de l‚Äôactivit√© ou du fragment, etc.)
* Elles sont utilis√©es pour g√©rer l‚Äô√©tat de l‚ÄôUI
* Elles sont ind√©pendantes de la couche UI
* Les viewModels vous donne acc√®s √† un coroutineScope pour g√©rer des t√¢ches asynchrones dans son cycle de vie (`viewModelScope`)
* Elles ne peuvent pas √™tre instanci√©es directement, elles doivent √™tre cr√©√©es via un `ViewModelProvider`

Pour respecter la logique MVVM vos `ViewModel` doivent :

* √ätre ind√©pendants de la couche UI
  * Les `viewModels` sont faits pour √™tre `observ√©s` par les composants de l‚ÄôUI et non li√©s fortements √† eux.
  * Les `viewModels` ne doivent pas contenir de r√©f√©rences √† des vues (TextView, Button, etc.)
* Proposer des fonctions pour modifier l‚Äô√©tat de l‚ÄôUI
  * La vue ne doit pas pouvoir modifier directement l‚Äô√©tat du `viewModel`, elle doit passer par des fonctions d√©di√©es.

---

### Un **mock** en programmation est un **objet simul√©** qui imite le comportement d'un objet r√©el dans un contexte pr√©cis, souvent utilis√© dans le cadre de **tests unitaires**. Il permet de **remplacer des d√©pendances externes** ou complexes afin de tester une partie isol√©e du code.

---

### Le bloc `setContent` d√©finit la mise en page de l'activit√© dans laquelle les fonctions modulables sont appel√©es. Les fonctions modulables ne peuvent √™tre appel√©es qu'√† partir d'autres fonctions modulables.

---

### @Composable ( rend une fonction modulable pour le front )

### @Preview ( permet de voir la fonction en preview )

### Rappel Jetpack compose permet de faire du front...

---

# Scaffold

Permet de mettre en page et d'afficher les composants:

Dans Material Design, un √©chafaudage est une structure fondamentale qui fournit une plate-forme standardis√©e pour les interfaces utilisateur complexes. Il rassemble diff√©rentes parties de l'UI, telles que les barres d'application et les boutons d'action flottants, ce qui donne aux applications un aspect coh√©rent.

---

${order.price} = composant avec kotlin

---

POJO (Java ou Kotlin(**Plain Old Java Object**) = classe servant √† contenir des donn√©es

var (Kotlin) = variable simple

val (Kotlin) = constante

---

[#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#les-listes)Les listes

**kotlin=**

```
//Liste de string
val myList = listOf("Hello", "World", "Kotlin")

//Liste de nombres
val myNumberList = listOf(1, 2, 3, 4, 5)

// Si vous voulez une liste mutable
val myMutableList = mutableListOf("Hello", "World", "Kotlin")
```

Et si vous voulez d√©clarer une liste explicitement

**kotlin=**

```
val myList:List<String> = listOf("Hello", "World", "Kotlin")
```

---

**Comment fonctionne un √©mulateur Android ?**

**Un √©mulateur Android est un p√©riph√©rique virtuel Android (AVD, Android Virtual Device) qui repr√©sente un p√©riph√©rique Android sp√©cifique.** **Vous pouvez utiliser un √©mulateur Android en tant que plate-forme cible pour ex√©cuter et tester vos applications Android sur votre PC****.**

### Android Emulator

Un **√©mulateur Android** simule un appareil Android sur votre ordinateur. Un t√©l√©phone peut √™tre appel√© "appareil physique", tandis qu'un √©mulateur est un "appareil virtuel".

---

### Appareil virtuel Android (AVD, **Android Virtual Device)**

Un **appareil virtuel Android**, ou **AVD**, est une configuration qui d√©finit le t√©l√©phone, la tablette, l'appareil Android Wear, le t√©l√©viseur ou l'appareil Android Automotive que vous souhaitez simuler dans un **Android Emulator**.

---

### "var" ne peut pas etre null contrairement au java, donc ont met un "?" pour indiquer que cette variable est parfois null:

```
fun main() {
    val otherClassInstance = OtherClass()
    println(otherClassInstance.myVar?)
}

//On a rajout√© un signe "?" derri√®re notre type.
//Cela indique au compilateur que cette variable est parfois "null"
class OtherClass(var myVar:String? = null)

```

---

```
//On donne un nom explicite "responseData" au lieu de "it"
myNetworkResponse?.let { responseData ->
    //La fonction `let` permet de unwrap üåÆ votre variable
    saveNetworkResponseToDataBase(responseData)
}

```

### On a vu la fonction `let` mais il en existe d‚Äôautres pour g√©rer les optionnels et le `null safety`

---

## modifier . Il permet de modifier la taille, la mise en page et l'apparence du composable, ou d'ajouter des interactions de haut niveau (par exemple, pour rendre un √©l√©ment cliquable). Vous pouvez les encha√Æner pour cr√©er des composables plus riches.

```
Composable
fun MessageCard(msg: Message) {
    // Add padding around our message
    Row(modifier = Modifier.padding(all = 8.dp)) {
        Image(
            painter = painterResource(R.drawable.profile_picture),
            contentDescription = "Contact profile picture",
            modifier = Modifier
                // Set image size to 40 dp
                .size(40.dp)
                // Clip image to be shaped as a circle
                .clip(CircleShape)
        )

        // Add a horizontal space between the image and the column
        Spacer(modifier = Modifier.width(8.dp))

        Column {
            Text(text = msg.author)
            // Add a vertical space between the author and message texts
            Spacer(modifier = Modifier.height(4.dp))
            Text(text = msg.body)
        }
    }
}
  
```

---

### Utiliser une colonne

### La fonction [`Column`](https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary?hl=fr#Column(androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Vertical,androidx.compose.ui.Alignment.Horizontal,kotlin.Function1)(androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Vertical,androidx.compose.ui.Alignment.Horizontal,kotlin.Function1)) vous permet d'organiser les √©l√©ments verticalement. Ajoutez `Column` √† la fonction `MessageCard`.

### Vous pouvez utiliser [`Row`](https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary?hl=fr#Row(androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Horizontal,androidx.compose.ui.Alignment.Vertical,kotlin.Function1)(androidx.compose.ui.Modifier,androidx.compose.foundation.layout.Arrangement.Horizontal,androidx.compose.ui.Alignment.Vertical,kotlin.Function1)) pour organiser les √©l√©ments horizontalement et [`Box`](https://developer.android.com/reference/kotlin/androidx/compose/foundation/layout/package-summary?hl=fr#Box(androidx.compose.ui.Modifier)) pour empiler des √©l√©ments.

### Un¬†[LazyRow](https://developer.android.com/reference/kotlin/androidx/compose/foundation/lazy/package-summary#lazyrow)¬†est une liste √† d√©filement horizontal qui compose et pr√©sente uniquement les √©l√©ments actuellement visibles. Il est similaire √† un Recyclerview horizontal dans le syst√®me d'affichage Android classique.

---

// Affichage d'une icone Dwitch
Text("Dwitch", style = MaterialTheme.typography.titleLarge)
Spacer(modifier = Modifier.height(16.dp))
// Affichage des commandes et des datesKotlin est un langage d√©velopp√© par [Jetbrains](https://android.pickle-forge.app/c/ressources/aide-kotlin/), Jetbrains d√©veloppe des environnements de d√©veloppement pour pratiquement tous les langages les plus utilis√©s.

Kotlin en lui m√™me est un langage **fonctionnel** et **orient√© objet**. L√† o√π java est 100% **orient√© objet**, Kotlin permet plus de libert√© d‚Äôutilisation et est ce qu‚Äôon appelle un langage moderne.

Il est bien moins verbeux que Java. Permet de faire moins d‚Äôerreur, produit des programmes plus stables, et est plus flexible.

Un exemple pour cr√©er un POJO (ceux qui connaissent en Java sinon renseignez-vous c‚Äôest un principe de base) en Kotlin :

**kotlin=**

Et voila, cette ligne de code vous permet de cr√©er une classe avec tout les getters, setters, `equals()`, `hashCode()`, `toString()` et `copy()`.

![Gradle](https://cdn.iconscout.com/icon/free/png-128/gradle-1-285287.png)

Gradle est un syst√®me d'automatisation de build open-source qui s'appuie sur les concepts d'Apache Ant et d'Apache Maven. Il introduit un langage sp√©cifique au domaine (DSL) bas√© sur Groovy au lieu du XML utilis√© par Apache Maven pour d√©clarer la configuration du projet.

Gradle a √©t√© con√ßu pour les constructions multi-projets, qui peuvent devenir tr√®s volumineuses.

Il supporte les builds incr√©mentiels en d√©terminant intelligemment quelles parties de l'arborescence de compilation sont √† jour.

Gradle peut :

* Construire des classes par r√©flexion de code
* Ex√©cuter des scripts / du code
* Ecrire dans des fichiers
* D√©ployer des builds
* Faire le CI
* G√©rer les d√©pendances
* Ex√©cuter les tests
* Faire le caf√© quand un build a r√©ussi
* Build ton programme automatiquement quand l'ISS passe au dessus de ta t√™te.

![](https://media.giphy.com/media/U56UKYAO8ToW8ycuDe/giphy.gif)

**Les possibilit√©s sont infinies**

> **Note üìù:** Vous pouvez voir Gradle comme un genre de `NPM` ou `Composer`, mais en beaucoup beaucoup plus complet et complexe. Le principe de base reste d'ajouter des d√©pendances √† votre programme, de g√©rer tout cela et de compiler l'ensemble de la mani√®re la plus efficace possible.

ü§ì **Gradle** intervient seulement √† la compilation et pas au run, il n'est donc pas possible que Gradle agisse sur le programme une fois que celui ci est lanc√©

## 

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#kotlin-et-le-typage)Kotlin et le typage

Kotlin est un langage fortement typ√©.

Pour d√©clarer une variable en Kotlin

**kotlin=**

```
//On pr√©cise le type ici
val myHelloWorldStringVariable:String = "Hello there"

//Version alternative :
//L'inf√©rence de type permet d'√©viter d'expliciter le type
val myHelloWorldStringVariable = "Hello there"
```

> On peut d√©clarer une variable en dehors de toute fonction ou classe, ce qui n‚Äôest pas possible en `Java`

---

Voici le code √©quivalent en `Java`

**java=**

```
 public class HelloWorld {
     String myHelloWorldStringVariable = new String("Hello there");

     public static void main(String[] args) {
         System.out.println("Hello world!");
     }
 }
```

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#les-variables)Les variables

Pour d√©clarer une variable on peut utiliser 2 mots cl√©s : `val` et `var`

Question

Chercher la diff√©rence entre les deux mots cl√©s `val` et `var` en Kotlin

### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#les-listes)Les listes

**kotlin=**

```
//Liste de string
val myList = listOf("Hello", "World", "Kotlin")

//Liste de nombres
val myNumberList = listOf(1, 2, 3, 4, 5)

// Si vous voulez une liste mutable
val myMutableList = mutableListOf("Hello", "World", "Kotlin")
```

Et si vous voulez d√©clarer une liste explicitement

**kotlin=**

```
val myList:List<String> = listOf("Hello", "World", "Kotlin")
```

Question

Que signifie les `<>` dans la d√©claration de la liste ? Comment s‚Äôappelle ce concept ?

### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#optional--null-safety-)Optional & Null safety üåÆ

Attention on arrive √† un endroit l√©g√®rement difficile. Du moins c‚Äôest pas commun sur les langages que vous avez vu jusqu‚Äô√† aujourd‚Äôhui.

En kotlin on ne peut pas avoir une valeur `null` dans une variable. Contrairement au `Java`. En Java on peut faire ca :

**java=**

```
public class HelloWorld
{
  // arguments are passed using the text field below this editor
  public static void main(String[] args)
  {
    OtherClass otherClass = null;
    //Ici j'obtiens le fameux "Null pointer exception" lors du runtime
    System.out.print(otherClass.myVar);
  }
}

public class OtherClass {
 	String myVar = new String("Hello");
}
```

üö´ Si je lance ce code en Java, il va compiler (**Buildtime**) sans probl√®me. Mais lorsque que je vais lancer mon programme (**Runtime**) il va planter.

Ce qui est pas top, car je ne vois le probl√®me qu‚Äôau moment ou l‚Äôutilisateur va lancer le programme.

#### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#essayons-en-kotlin)Essayons en Kotlin

Ajoutez dans votre fichier (`main.kt`) de test le code suivant :

**kotlin=**

```
fun main() {
    val otherClassInstance = OtherClass()
    println(otherClassInstance.myVar)
}

class OtherClass(var myVar:String = null)
```

Question

Que se passe-t‚Äôil lorsque vous compilez ?

üö´ C‚Äôest impossible. En Kotlin si on indique pas **explicitement** qu‚Äôune variable peut contenir une valeur `null` alors c‚Äôest impossible de `build`.

#### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#comment-on-indique-cela-alors-)Comment on indique cela alors ?

Si je voulais que le *build time* passe sur mon code Kotlin, il faudrait que je modifie en faisant cela :

**kotlin=**

```
fun main() {
    val otherClassInstance = OtherClass()
    println(otherClassInstance.myVar?)
}

//On a rajout√© un signe "?" derri√®re notre type.
//Cela indique au compilateur que cette variable est parfois "null"
class OtherClass(var myVar:String? = null)
```

Non seulement cela compile, mais au runtime cela ne plante pas, m√™me si votre variable est `null`.

#### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#comment-g%C3%A9rer-ce-comportement-)Comment g√©rer ce comportement ?

Souvent dans votre code vous allez devoir indiquer au programme que vous n‚Äô√™tes pas certain qu‚Äôil y aura une valeur *non null* dans une variable √† un instant T (Ex: je r√©cup√®re une donn√©e du r√©seau)

Dans ce genre de cas, vous allez devoir `unwrap üåÆ` la variable, c‚Äôest en gros ‚ÄúD√©couvrir‚Äù ce qu‚Äôil y a dedans, et suivant ce que vous trouverez, ex√©cutez tel ou tel code.

Si je prend l‚Äôexemple du r√©seau, imaginez le code suivant

**kotlin=**

```
//Je vais stocker la r√©ponse hypoth√©tique du r√©seau dans ma variable
var myNetworkResponse:String? = null

//Ici j'appelle le r√©seau, et il renvoi une valeur (ou PAS)
myNetworkResponse = networkCall()

//Je veux r√©cuperer la r√©ponse du r√©seau si il y en a unne
myNetworkResponse?.let {
    //La fonction `let` permet de unwrap üåÆ votre variable
    //Elle produit une valeur non optionnel "it" par defaut
    saveNetworkResponseToDataBase(it)
    //"it" est certain d'exister, et est non null
}
```

Question

Selon vous quelle est la signature de la fonction `networkCall` ? Ecrivez la et faites valider par l‚Äôenseignant.

* Cette fonction n‚Äôexiste pas, on vous demande √† partir du code ci-dessus d‚Äôimaginer sa signature
* Le m√™me exemple mais avec le nommage explicite de la donn√©e `unwrap üåÆ`
  **kotlin=**
  ```
  //On donne un nom explicite "responseData" au lieu de "it"
  myNetworkResponse?.let { responseData ->
      //La fonction `let` permet de unwrap üåÆ votre variable
      saveNetworkResponseToDataBase(responseData)
  }
  ```

On a vu la fonction `let` mais il en existe d‚Äôautres pour g√©rer les optionnels et le `null safety`

Pour en apprendre plus [voici un lien vers la documentation Kotlin qui explique ce comportement et comment l‚Äôutiliser au mieux.](https://kotlinlang.org/docs/reference/null-safety.html)

Question

Comment pourriez vous faire pour ex√©cuter du code dans le cas ou la valeur de l`unwrapping üåÆ` est effectivement `null`, pour d√©clencher un nouvel appel r√©seau par exemple ? Trouvez l‚Äôop√©rateur ad√©quat et inscrivez le code d‚Äôexemple compl√©t√© dans un ficher.

### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#attention--%EF%B8%8F)Attention ‚ö†Ô∏è

A l‚Äôinverse vous pouvez forcer le compilateur √† ignorer qu‚Äôune variable est potentiellement `null`

Gr√¢ce au symbole `!!` : il est √† √©viter le plus possible car il force le compilateur √† ne pas v√©rifier si cette variable est vide avant de l‚Äôutiliser.

Cela peut √™tre pratique pour √©viter l‚Äô`unwrapping üåÆ` et donc quelques lignes de code, mais c‚Äôest aussi tr√®s dangereux car le comportement est impr√©visible.

**kotlin=**

```
//On bourrine. Mais si le network plante, le programme plante.
saveNetworkResponseToDataBase(myNetworkResponse!!)
```

![](https://android.pickle-forge.app/_astro/poutine.Df3yv1KA_14ecB.webp)

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#les-fonctions)Les fonctions

En Kotlin vous pouvez d√©clarer des fonctions n‚Äôimporte o√π dans votre programme. Une fonction peut aussi √™tre dans une variable, comme en `javascript`.

**kotlin=**

```

fun myFunction()

fun myFunction(): String {
    return "Hello World"
}

//Type inference, Kotlin devine que la fonction sera de type string.
//On utilise √©galement la syntaxe simplifi√©e pour une fonction ici
fun myFunction() = "Hello world"

//Avec un parametre, les parametres doivent-etre typ√©
fun numberOfCharactersInString(inputString: String): Int {
    return parameter.length
}

fun greetUser(name: String, lastname:String, city:String) {
    println("Hello $name $lastname, you live in $city")
}

//Lambda dans une variable
var myVariable = {
        println("Hello")
    }

//On peut aussi passer des parametres
var myVariable:(name: String) -> Unit = {name ->
    println("Hello $name")
}


//Fonction anonyme ex 1
val square = fun(x: Int) = x * x

//Fonction anonyme ex 2
val greetings = fun(name: String) = "Hello $name"
```

Puisque Kotlin est aussi un langage fonctionnel, il est important de bien comprendre comment et quand utiliser des fonctions. Nous verrons tout au long de l‚Äôintroduction diff√©rents moyens d‚Äôutiliser les fonctions et variables.

> La syntaxe pour concatener une `string` est `+` ou √† l‚Äôint√©rieur des double quote vous pouvez utiliser `"Je concatene avec $maVariable"`. Et pour acc√©der a une propri√©t√© de votre variable : `"Je concatene avec ${maVariable.maProp}"`

### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#appeler-une-fonction)Appeler une fonction

Il existe plusieurs fa√ßon d‚Äôappeler une fonction en Kotlin, notamment au niveau des param√®tres.

Dans le langage les param√®tres sont nomm√©s, m√™me si on est pas oblig√© de pr√©ciser le nom du param√®tre c‚Äôest tr√®s utile pour s‚Äôy retrouver.

**kotlin=**

```
numberOfCharactersInString("Hello"); //5
//J'appelle ma fonction en pr√©cisant le nom des parametres
numberOfCharactersInString(inputString = "Hello")
```

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#control-flow-if-for-when)Control flow (`if`, `for`, `when`)

Je ne vais pas paraphraser [la documentation qui fait tr√®s bien son boulot ici](https://kotlinlang.org/docs/reference/control-flow.html).

> Questions
>
> * Quel est l‚Äô√©quivalent du `switch` en kotlin ?
> * Cr√©ez un tableau de `string` et affichez chaque valeur dans la sortie console. Faites valider par l‚Äôenseignant.

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#les-classes)Les classes

Kotlin est aussi un langage objet, on d√©clare une classe qui poss√®de une propri√©t√© comme ceci :

**kotlin=**

```
//Le constructeur est dans la signature de la classe entre ()
class MyClass(val myProperty:String?)

//Pour instancier cette classe
val myClassInstance = MyClass("hello")
```

Ou

**kotlin=**

```
class MyClass {
    var myVar:String? = null

    constructor(myVarValue: String?){
        myVar = myVarValue
    }
}
```

Sans propri√©t√© :

**kotlin=+**

```
class MyClass
```

---

Voici le code √©quivalent en `Java`

**java=**

```
class MyClass {

    String myProperty;

    public MyClass(String myProperty){
        this.myProperty = myProperty;
    }
}
```

Il est tr√®s rapide et concis de cr√©er une classe en Kotlin. Et puisque c‚Äôest un langage assez malin il y a pas mal de raccourcis sous forme de mot cl√©s.

### [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#les-classes-de-donn%C3%A9es)Les classes de donn√©es

Un concept qui n‚Äôexiste pas partout, les `data class` sont en fait un type de classe d√©di√© au stockage de la donn√©e.

La diff√©rence avec les classes normales est que le compilateur va vous cr√©er automatiquement des fonctions utilitaires sur vos `data class`.

Les fonctions automatiquement g√©n√©r√©es :

* `equals()`
* `toString()`
* `hashCode()`
* `copy()`
* `...`

> [Retrouvez la documentation sur les data class](https://kotlinlang.org/docs/reference/data-classes.html)

Exemple de `data class`

**kotlin=**

```
data class User(val name: String, val age: Int, val gender: Gender)

val myUser = User(name = "Roger", age = 21, gender = Gender.MALE)

//To string est g√©n√©r√© automatiquement donc tout va bien
println(myUser)
```

Encore une fois on remarque qu‚Äôun mot cl√© du langage va nous permettre de gagner du temps sur le d√©veloppement tout en gardant des concepts standards.

> Remarquez le type `Gender`, c‚Äôest un `enum` en Kotlin vous pouvez utiliser ce genre de variable pour d√©finir un set de valeur pr√©d√©fini pour un objet.

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#classes-enum)Classes `Enum`

Tr√®s simple a comprendre mais redoutablement efficace pour construire un programme tr√®s robuste, les classes `enum` permettent de lister des valeurs possibles d‚Äôun type donn√©.

Exemple avec notre `Gender`

**kotlin=**

```
enum class Gender {
    FEMALE,
    MALE,
    OTHER
}
```

Cela permet d‚Äô√©viter d‚Äôhardcoder des valeurs et d‚Äô√©viter d‚Äôutiliser des constantes `String` qui sont fastidieuses √† travailler et g√©n√©ratrice d‚Äôerreur.

**kotlin=**

```
data class User(val name: String, val age: Int, val gender: Gender)

val user1 = User(name = "Roger", age = 21, gender = Gender.FEMALE)
```

Ainsi toute variable ayant le type `Gender` ne pourra prendre qu‚Äôune des 3 valeurs de l‚Äô`enum` possible.

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#les-mots-cl%C3%A9s)Les mots cl√©s

`Companion, Object, Lateinit, let, with, run` ne repr√©sentent qu‚Äôune partie √©merg√©e de l‚Äôiceberg.

Kotlin est un langage avec beaucoup de mots-cl√©s üîë üîë üîë , [en voici une r√©f√©rence](https://kotlinlang.org/docs/reference/keyword-reference.html).

## [#](https://android.pickle-forge.app/c/ressources/aide-kotlin/#que-faire-maintenant-)Que faire maintenant ?

Pour apprendre et maitriser un nouveau langage, il n‚Äôy a pas de solution simple.

**Il faut vous entrainer**

Un lien pour apprendre de la meilleure mani√®re le Kotlin :

[https://play.kotlinlang.org/koans/overview](https://play.kotlinlang.org/koans/overview)

---

## Mots-cl√©s difficilesÔªø

Les jetons suivants sont toujours interpr√©t√©s comme des mots-cl√©s et ne peuvent pas √™tre utilis√©s comme identifiants¬†:

* `as`
  * est utilis√© pour¬†[les conversions de types](https://kotlinlang.org/docs/typecasts.html#unsafe-cast-operator)¬†.
  * sp√©cifie un¬†[alias pour une importation](https://kotlinlang.org/docs/packages.html#imports)
* `as?`est utilis√© pour¬†[les moulages de type s√ªrs](https://kotlinlang.org/docs/typecasts.html#safe-nullable-cast-operator)¬†.
* `break` [termine l'ex√©cution d'une boucle](https://kotlinlang.org/docs/returns.html)¬†.
* `class`d√©clare une¬†[classe](https://kotlinlang.org/docs/classes.html)¬†.
* `continue` [passe √† l'√©tape suivante de la boucle englobante la plus proche](https://kotlinlang.org/docs/returns.html)¬†.
* `do`commence une¬†[boucle do/while](https://kotlinlang.org/docs/control-flow.html#while-loops)¬†(une boucle avec une postcondition).
* `else`d√©finit la branche d'une¬†[expression if](https://kotlinlang.org/docs/control-flow.html#if-expression)¬†qui est ex√©cut√©e lorsque la condition est fausse.
* `false`sp√©cifie la valeur ¬´¬†false¬†¬ª du¬†[type bool√©en](https://kotlinlang.org/docs/booleans.html)¬†.
* `for`commence une¬†[boucle for](https://kotlinlang.org/docs/control-flow.html#for-loops)¬†.
* `fun`d√©clare une¬†[fonction](https://kotlinlang.org/docs/functions.html)¬†.
* `if`commence une¬†[expression if](https://kotlinlang.org/docs/control-flow.html#if-expression)¬†.
* `in`
  * sp√©cifie l'objet en cours d'it√©ration dans une¬†[boucle for](https://kotlinlang.org/docs/control-flow.html#for-loops)¬†.
  * est utilis√© comme op√©rateur infixe pour v√©rifier qu'une valeur appartient √†¬†[une plage](https://kotlinlang.org/docs/ranges.html)¬†, une collection ou une autre entit√© qui¬†[d√©finit une m√©thode ¬´ contient ¬ª](https://kotlinlang.org/docs/operator-overloading.html#in-operator)¬†.
  * est utilis√© dans¬†[des expressions](https://kotlinlang.org/docs/control-flow.html#when-expressions-and-statements)¬†ayant le m√™me but.
  * marque un param√®tre de type comme¬†[contravariant](https://kotlinlang.org/docs/generics.html#declaration-site-variance)¬†.
* `!in`
  * est utilis√© comme op√©rateur pour v√©rifier qu'une valeur n'appartient PAS √†¬†[une plage](https://kotlinlang.org/docs/ranges.html)¬†, une collection ou une autre entit√© qui¬†[d√©finit une m√©thode ¬´ contient ¬ª](https://kotlinlang.org/docs/operator-overloading.html#in-operator)¬†.
  * est utilis√© dans¬†[des expressions](https://kotlinlang.org/docs/control-flow.html#when-expressions-and-statements)¬†ayant le m√™me but.
* `interface`d√©clare une¬†[interface](https://kotlinlang.org/docs/interfaces.html)¬†.
* `is`
  * v√©rifie qu'une¬†[valeur a un certain type](https://kotlinlang.org/docs/typecasts.html#is-and-is-operators)¬†.
  * est utilis√© dans¬†[des expressions](https://kotlinlang.org/docs/control-flow.html#when-expressions-and-statements)¬†ayant le m√™me but.
* `!is`
  * v√©rifie qu'une¬†[valeur n'a PAS un certain type](https://kotlinlang.org/docs/typecasts.html#is-and-is-operators)¬†.
  * est utilis√© dans¬†[des expressions](https://kotlinlang.org/docs/control-flow.html#when-expressions-and-statements)¬†ayant le m√™me but.
* `null`est une constante repr√©sentant une r√©f√©rence d'objet qui ne pointe vers aucun objet.
* `object`d√©clare¬†[une classe et son instance en m√™me temps](https://kotlinlang.org/docs/object-declarations.html)¬†.
* `package`sp√©cifie le¬†[package pour le fichier actuel](https://kotlinlang.org/docs/packages.html)¬†.
* `return` [renvoie de la fonction englobante la plus proche ou de la fonction anonyme](https://kotlinlang.org/docs/returns.html)¬†.
* `super`
  * [fait r√©f√©rence √† l'impl√©mentation de superclasse d'une m√©thode ou d'une propri√©t√©](https://kotlinlang.org/docs/inheritance.html#calling-the-superclass-implementation)¬†.
  * [appelle le constructeur de la superclasse √† partir d'un constructeur secondaire](https://kotlinlang.org/docs/classes.html#inheritance)¬†.
* `this`
  * fait r√©f√©rence au¬†[r√©cepteur actuel](https://kotlinlang.org/docs/this-expressions.html)¬†.
  * [appelle un autre constructeur de la m√™me classe √† partir d'un constructeur secondaire](https://kotlinlang.org/docs/classes.html#constructors)¬†.
* `throw` [lance une exception](https://kotlinlang.org/docs/exceptions.html)¬†.
* `true`sp√©cifie la valeur ¬´¬†true¬†¬ª du¬†[type bool√©en](https://kotlinlang.org/docs/booleans.html)¬†.
* `try` [commence un bloc de gestion des exceptions](https://kotlinlang.org/docs/exceptions.html)¬†.
* `typealias`d√©clare un¬†[alias de type](https://kotlinlang.org/docs/type-aliases.html)¬†.
* `typeof`est r√©serv√© √† une utilisation future.
* `val`[d√©clare une propri√©t√©](https://kotlinlang.org/docs/properties.html)¬†en lecture seule¬†ou¬†[une variable locale](https://kotlinlang.org/docs/basic-syntax.html#variables)¬†.
* `var`[d√©clare une propri√©t√©](https://kotlinlang.org/docs/properties.html)¬†mutable¬†ou¬†[une variable locale](https://kotlinlang.org/docs/basic-syntax.html#variables)¬†.
* `when`commence une¬†[expression when](https://kotlinlang.org/docs/control-flow.html#when-expressions-and-statements)¬†(ex√©cute l'une des branches donn√©es).
* `while`commence une¬†[boucle while](https://kotlinlang.org/docs/control-flow.html#while-loops)¬†(une boucle avec une pr√©condition).

## Mots-cl√©s souplesÔªø

Les jetons suivants agissent comme des mots-cl√©s dans le contexte dans lequel ils sont applicables, et ils peuvent √™tre utilis√©s comme identifiants dans d'autres contextes¬†:

* `by`
  * [d√©l√®gue l'impl√©mentation d'une interface √† un autre objet](https://kotlinlang.org/docs/delegation.html)¬†.
  * [d√©l√®gue l'impl√©mentation des accesseurs d'une propri√©t√© √† un autre objet](https://kotlinlang.org/docs/delegated-properties.html)¬†.
* `catch`commence un bloc qui¬†[g√®re un type d'exception sp√©cifique](https://kotlinlang.org/docs/exceptions.html)¬†.
* `constructor`d√©clare un¬†[constructeur primaire ou secondaire](https://kotlinlang.org/docs/classes.html#constructors)¬†.
* `delegate`est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `dynamic`fait r√©f√©rence √† un¬†[type dynamique](https://kotlinlang.org/docs/dynamic-type.html)¬†dans le code Kotlin/JS.
* `field`est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `file`est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `finally`commence un bloc qui¬†[est toujours ex√©cut√© lorsqu'un bloc try se termine](https://kotlinlang.org/docs/exceptions.html)¬†.
* `get`
  * d√©clare le¬†[getter d'une propri√©t√©](https://kotlinlang.org/docs/properties.html#getters-and-setters)¬†.
  * est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `import` [importe une d√©claration d'un autre package dans le fichier courant](https://kotlinlang.org/docs/packages.html)¬†.
* `init`commence un¬†[bloc d'initialisation](https://kotlinlang.org/docs/classes.html#constructors)¬†.
* `param`est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `property`est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `receiver`est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `set`
  * d√©clare le¬†[setter d'une propri√©t√©](https://kotlinlang.org/docs/properties.html#getters-and-setters)¬†.
  * est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `setparam`est utilis√© comme¬†[cible du site d'utilisation d'annotation](https://kotlinlang.org/docs/annotations.html#annotation-use-site-targets)¬†.
* `value`avec le¬†`class`mot cl√© d√©clare une¬†[classe en ligne](https://kotlinlang.org/docs/inline-classes.html)¬†.
* `where`sp√©cifie les¬†[contraintes pour un param√®tre de type g√©n√©rique](https://kotlinlang.org/docs/generics.html#upper-bounds)¬†.

## Mots-cl√©s modificateursÔªø

Les jetons suivants agissent comme des mots-cl√©s dans les listes de modificateurs de d√©clarations et peuvent √™tre utilis√©s comme identifiants dans d'autres contextes¬†:

* `abstract`marque une classe ou un membre comme¬†[abstrait](https://kotlinlang.org/docs/classes.html#abstract-classes)¬†.
* `actual`d√©signe une impl√©mentation sp√©cifique √† une plate-forme dans¬†[des projets multiplateformes](https://kotlinlang.org/docs/multiplatform-expect-actual.html)¬†.
* `annotation`d√©clare une¬†[classe d'annotation](https://kotlinlang.org/docs/annotations.html)¬†.
* `companion`d√©clare un¬†[objet compagnon](https://kotlinlang.org/docs/object-declarations.html#companion-objects)¬†.
* `const`marque une propri√©t√© comme une¬†[constante de compilation](https://kotlinlang.org/docs/properties.html#compile-time-constants)¬†.
* `crossinline`interdit¬†[les retours non locaux dans un lambda pass√© √† une fonction en ligne](https://kotlinlang.org/docs/inline-functions.html#returns)¬†.
* `data`demande au compilateur de¬†[g√©n√©rer des membres canoniques pour une classe](https://kotlinlang.org/docs/data-classes.html)¬†.
* `enum`d√©clare une¬†[√©num√©ration](https://kotlinlang.org/docs/enum-classes.html)¬†.
* `expect`marque une d√©claration comme¬†[sp√©cifique √† la plateforme](https://kotlinlang.org/docs/multiplatform-expect-actual.html)¬†, en attendant une impl√©mentation dans les modules de la plateforme.
* `external`marque une d√©claration comme impl√©ment√©e en dehors de Kotlin (accessible via¬†[JNI](https://kotlinlang.org/docs/java-interop.html#using-jni-with-kotlin)¬†ou en¬†[JavaScript](https://kotlinlang.org/docs/js-interop.html#external-modifier)¬†).
* `final`interdit¬†[de passer outre un membre](https://kotlinlang.org/docs/inheritance.html#overriding-methods)¬†.
* `infix`permet d'appeler une fonction en utilisant¬†[la notation infixe](https://kotlinlang.org/docs/functions.html#infix-notation)¬†.
* `inline`indique au compilateur d'¬†[int√©grer une fonction et les lambdas qui lui sont transmis sur le site d'appel](https://kotlinlang.org/docs/inline-functions.html)¬†.
* `inner`permet de faire r√©f√©rence √† une instance de classe externe √† partir d'une¬†[classe imbriqu√©e](https://kotlinlang.org/docs/nested-classes.html)¬†.
* `internal`marque une d√©claration comme¬†[visible dans le module actuel](https://kotlinlang.org/docs/visibility-modifiers.html)¬†.
* `lateinit`permet d'initialiser une¬†[propri√©t√© non nullable en dehors d'un constructeur](https://kotlinlang.org/docs/properties.html#late-initialized-properties-and-variables)¬†.
* `noinline`d√©sactive¬†[l'inlining d'un lambda pass√© √† une fonction en ligne](https://kotlinlang.org/docs/inline-functions.html#noinline)¬†.
* `open`permet¬†[de sous-classer une classe ou de remplacer un membre](https://kotlinlang.org/docs/classes.html#inheritance)¬†.
* `operator`marque une fonction comme¬†[surchargeant un op√©rateur ou impl√©mentant une convention](https://kotlinlang.org/docs/operator-overloading.html)¬†.
* `out`marque un param√®tre de type comme¬†[covariant](https://kotlinlang.org/docs/generics.html#declaration-site-variance)¬†.
* `override`marque un membre comme une¬†[substitution d'un membre de superclasse](https://kotlinlang.org/docs/inheritance.html#overriding-methods)¬†.
* `private`marque une d√©claration comme¬†[visible dans la classe ou le fichier actuel](https://kotlinlang.org/docs/visibility-modifiers.html)¬†.
* `protected`marque une d√©claration comme¬†[visible dans la classe actuelle et ses sous-classes](https://kotlinlang.org/docs/visibility-modifiers.html)¬†.
* `public`marque une d√©claration comme¬†[visible n'importe o√π](https://kotlinlang.org/docs/visibility-modifiers.html)¬†.
* `reified`marque un param√®tre de type d'une fonction en ligne comme¬†[accessible au moment de l'ex√©cution](https://kotlinlang.org/docs/inline-functions.html#reified-type-parameters)¬†.
* `sealed`d√©clare une¬†[classe scell√©e](https://kotlinlang.org/docs/sealed-classes.html)¬†(une classe avec sous-classement restreint).
* `suspend`marque une fonction ou un lambda comme √©tant en suspension (utilisable comme¬†[coroutine](https://kotlinlang.org/docs/coroutines-overview.html)¬†).
* `tailrec`marque une fonction comme¬†[r√©cursive terminale](https://kotlinlang.org/docs/functions.html#tail-recursive-functions)¬†(permettant au compilateur de remplacer la r√©cursivit√© par l'it√©ration).
* `vararg`permet¬†[de passer un nombre variable d'arguments pour un param√®tre](https://kotlinlang.org/docs/functions.html#variable-number-of-arguments-varargs)¬†.

## Identifiants sp√©ciauxÔªø

Les identifiants suivants sont d√©finis par le compilateur dans des contextes sp√©cifiques et peuvent √™tre utilis√©s comme identifiants r√©guliers dans d'autres contextes¬†:

* `field`est utilis√© √† l'int√©rieur d'un accesseur de propri√©t√© pour faire r√©f√©rence au¬†[champ de sauvegarde de la propri√©t√©](https://kotlinlang.org/docs/properties.html#backing-fields)¬†.
* `it`est utilis√© √† l'int√©rieur d'un lambda pour¬†[faire r√©f√©rence √† son param√®tre de mani√®re implicite](https://kotlinlang.org/docs/lambdas.html#it-implicit-name-of-a-single-parameter)¬†.

![](https://android.pickle-forge.app/_astro/content-negociation.EsZTDjii_Z2adqtX.webp)

---
